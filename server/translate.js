// server/static/js/translations.js

const translations = {
    'ar': {
        // مفاتيح عامة ومفاتيح من الصفحة الرئيسية
        brandName: 'قصر زهور الأماني',
        clickHere: 'اطلب الآن',
        beautifulFlowersOccasions: 'أجمل زهور لأروع المناسبات',
        wideSelectionFlowers: 'تشكيلة واسعة من الزهور لكل مناسبة.',
        engagementReading: 'قراءة فاتحة',
        engagement: 'خطوبة',
        congratulations: 'ألف مبروك',
        opening: 'افتتاح',
        birthday: 'عيد ميلاد',
        anniversary: 'ذكرى سنوية',
        graduation: 'تخرج',
        newborn: 'مولود جديد',
        love: 'حب',
        naturalRoses: 'ورد طبيعي',
        artificialRoses: 'ورد صناعي',
        butterflyRoses: 'ورد فراشات',
        satinRoses: 'ورد ساتان',
        driedFlowers: 'مجففات',
        giftsAlias: 'جيفتات', // تم تحديثها بناءً على استخدامك في الكود
        chooseWhatYouLove: 'اختر ما تحب',
        chooseYourOccasion: 'اختر حسب مناسبتك',
        chooseYourGift: 'اختر هديتك',
        box: 'بوكس',
        bear: 'دب',
        gifts: 'هدايا',
        giftBag: 'شنطة هدايا',
        glasses: 'كاسات',
        balloons: 'بالونات',
        roseChocBox: 'بوكس ورد وشوكولاتة',
        roseBouquet: 'باقة ورد',
        roseChocBoxAlt: 'بوكس ورد شوكولاتة',
        roseBox: 'بوكس ورد',
        bestSellersTitle: 'الأكثر مبيعًا',
        addToCart: 'أضف إلى السلة',
        addToWishlist: 'أعجبني',
        home: 'الرئيسية',
        wishlist: 'الإعجابات',
        cart: 'السلة',
        store: 'المتجر',
        menu: 'القائمة',
        aboutUs: 'من نحن',
        shareFeedback: 'شاركنا برأيك',
        completeOrder: 'أكمل طلبك',
        adminLogin: 'تسجيل دخول المدير', // تم تعديلها لتتناسب مع استخدامها في الكود
        allRightsReserved: '© 2025 Techno Scince. جميع الحقوق محفوظة.',
        close: 'إغلاق',

        // مفاتيح خاصة بصفحة قائمة الإعجابات (Wishlist)
        yourFavoriteProducts: 'منتجاتك المفضلة',
        clearAllProducts: 'مسح جميع المنتجات',
        noProductsInWishlist: 'لا توجد منتجات في قائمة الإعجابات.',
        remove: 'إزالة',

        // مفاتيح خاصة بصفحة عرض المنتجات (view-products)
        ourProducts: 'منتجاتنا',
        productTypeLabel: 'نوع المنتج:',
        all: 'الكل',
        flowersOnly: 'ورد فقط',
        accessoriesOnly: 'اكسسوارات فقط',
        flowerTypesLabel: 'أنواع الورد:',
        allTypes: 'كل الأنواع',
        occasionsLabel: 'المناسبات:',
        allOccasions: 'كل المناسبات',
        noMatchingProducts: 'لا توجد منتجات مطابقة للفلاتر المختارة.',

        // مفاتيح خاصة بصفحة السلة (cart)
        yourCart: 'سلة مشترياتك',
        cartEmpty: 'سلتك فارغة.',
        cartTotal: 'إجمالي السلة:',
        enterInfoToCompleteOrder: 'ادخل بياناتك لإكمال الطلب',
        fullName: 'الاسم بالكامل:',
        enterYourNameHerePlaceholder: 'ادخل اسمك هنا',
        phoneNumber: 'رقم الهاتف:',
        address: 'العنوان:',
        addressPlaceholder: 'المنطقة، الشارع، رقم المنزل',
        additionalNotesOptional: 'ملاحظات إضافية (اختياري):',
        notesPlaceholder: 'أي تفاصيل للمساعدة في التوصيل',
        sendOrder: 'إرسال الطلب',
        emptyCart: 'تفريغ السلة',

        // مفاتيح خاصة بصفحة إرسال التقييمات (add-feedback)
        feedbackFormTitle: 'مشاركة رأيك',
        yourName: 'اسمك:',
        yourNumber: 'رقم هاتفك:',
        condition: 'الحالة:',
        yourEmail: 'بريدك الإلكتروني (اختياري):',
        yourRating: 'تقييمك:',
        yourComments: 'تعليقاتك (رسالة):',
        submitFeedback: 'إرسال التقييم',
        submittingFeedback: 'جاري الإرسال...', // نص زر الإرسال أثناء التحميل
        feedbackAddedSuccess: 'تم إرسال تقييمك بنجاح!',
        feedbackSubmissionError: 'حدث خطأ أثناء إرسال التقييم. الرجاء المحاولة مرة أخرى.',
        connectionError: 'حدث خطأ في الاتصال بالخادم. الرجاء التأكد من اتصالك بالإنترنت والمحاولة مرة أخرى.',

        // مفاتيح خاصة بصفحة "من نحن" (about)
        aboutUsTitle: 'حول المتجر',
        aboutUsContent: 'قصر زهور الأماني هو وجهتك المثالية لأجمل الزهور والنباتات والهدايا. نلتزم بتقديم أجود المنتجات وأفضل خدمة عملاء، لجعل لحظاتكم السعيدة أكثر إشراقًا. مهمتنا هي إلهام السعادة والجمال من خلال منتجاتنا وخدماتنا الفريدة.',
        aboutUsMission: 'مهمتنا',
        aboutUsMissionContent: 'تقديم أجود الزهور والنباتات والهدايا مع خدمة عملاء استثنائية.',
        aboutUsVision: 'رؤيتنا',
        aboutUsVisionContent: 'أن نكون المتجر الرائد للزهور في المنطقة، معروفين بإبداعنا وجودتنا.',

        // مفاتيح خاصة بصفحة عرض التقييمات (view-feedback)
        viewFeedbackTitle: 'تقييمات العملاء',
        noFeedback: 'لا توجد تقييمات لعرضها بعد.',
        anonymous: 'مجهول',
        noComment: 'لا يوجد تعليق.',
        dateNotAvailable: 'تاريخ غير متوفر',
        feedbackBy: 'بواسطة:',
        errorLoadingFeedback: 'حدث خطأ أثناء تحميل التقييمات.',

        // مفاتيح خاصة بصفحة التقارير (admin-reports)
        reportsTitle: 'التقارير والإحصائيات',
        loadingReports: 'جاري تحميل التقارير...',
        reportsError: 'حدث خطأ أثناء تحميل التقارير. الرجاء التأكد من اتصالك بالإنترنت ومن إعدادات جداول البيانات.',
        totalOrders: 'إجمالي الطلبات',
        totalSales: 'إجمالي المبيعات',
        totalFeedback: 'إجمالي التقييمات',
        averageRating: 'متوسط التقييم',
        mostSoldProducts: 'المنتجات الأكثر مبيعًا',
        ratingDistribution: 'توزيع التقييمات (النجوم)',
        salesCount: 'عدد المبيعات', // لعنوان الرسم البياني
        mostSoldProductsTitle: 'المنتجات الأكثر مبيعاً (عدد الطلبات)', // لعنوان الرسم البياني
        ordersCount: 'عدد الطلبات', // لمحور Y في الرسم البياني
        product: 'المنتج', // لمحور X في الرسم البياني
        oneStar: '1 نجمة',
        twoStars: '2 نجوم',
        threeStars: '3 نجوم',
        fourStars: '4 نجوم',
        fiveStars: '5 نجوم',
        feedbackCount: 'عدد التقييمات', // لعنوان الرسم البياني
        customerRatingDistribution: 'توزيع تقييمات العملاء', // لعنوان الرسم البياني

        // مفاتيح خاصة بصفحة الطلبات الواردة (admin-orders)
        latestOrdersBtn: 'أحدث الطلبات',
        ordersTitle: 'الطلبات الواردة',
        noOrders: 'لا توجد طلبات حاليًا.',
        refreshPage: 'تحديث الصفحة',
        customerName: 'اسم العميل',
        orderValue: 'قيمة الطلب',
        noNotes: 'لا يوجد ملاحظات',
        orderReceived: 'تم الاستلام',
        orderPreparing: 'قيد التحضير',
        orderDelivered: 'تم التسليم',
        errorLoadingOrders: 'حدث خطأ أثناء تحميل الطلبات.',

        // مفاتيح خاصة بصفحة تعديل/حذف المنتجات (admin-edit-delete-product)
        editDeleteProductTitle: 'تعديل / حذف منتج',
        selectProductLabel: 'اختر المنتج:',
        selectProductPlaceholder: '-- اختر منتجًا --',
        productDetailsLabel: 'تفاصيل المنتج:',
        saveChangesBtn: 'حفظ التعديلات',
        deleteProductBtn: 'حذف المنتج',
        noProductsAvailable: 'لا توجد منتجات متاحة.',
        httpError: 'خطأ HTTP! الحالة: ',
        imageEncodingError: 'حدث خطأ في ترميز ملف الصورة.',
        imageReadingError: 'حدث خطأ أثناء قراءة ملف الصورة. يرجى المحاولة مرة أخرى.',
        noProductToDelete: 'الرجاء اختيار منتج لحذفه أولاً.',
        confirmDeleteProduct: 'هل أنت متأكد أنك تريد حذف المنتج: "{productName}"؟',
        failed: 'فشل: ',
        unknownServerError: 'خطأ غير معروف من الخادم.',
        connectionErrorServer: 'حدث خطأ أثناء الاتصال بالخادم: ',
        response: 'الاستجابة: ',

        // مفاتيح خاصة بصفحة تسجيل دخول المدير (admin-login)
        adminLoginTitle: 'تسجيل دخول المدير',
        usernameLabel: 'اسم المستخدم:',
        passwordLabel: 'كلمة المرور:',
        loginBtn: 'تسجيل الدخول',
        alreadyLoggedInRedirect: 'تم تسجيل الدخول مسبقًا. جاري التوجيه...',
        connectionErrorRetry: 'حدث خطأ أثناء الاتصال بالخادم. الرجاء المحاولة مرة أخرى.',
        verifying: 'جاري التحقق...',
        loginSuccessRedirect: 'تم تسجيل الدخول بنجاح! جاري التوجيه...',
        incorrectPassword: 'كلمة المرور غير صحيحة.',
        usernameNotFound: 'اسم المستخدم غير موجود.',

        // مفاتيح خاصة بصفحة لوحة تحكم المدير (admin-dashboard)
        adminPanelTitle: 'لوحة تحكم المدير',
        manageOrders: 'إدارة الطلبات',
        addProduct: 'إضافة منتج', // تم استخدامها الآن للزر
        editProduct: 'تعديل منتج', // تم استخدامها الآن للزر
        viewAllFeedback: 'عرض كل التقييمات',
        viewReports: 'عرض التقارير',
        logout: 'تسجيل الخروج',
        logoutSuccess: 'تم تسجيل الخروج بنجاح!',

        // مفاتيح جديدة خاصة بصفحة إضافة منتج (admin-add-product)
        addNewProductTitle: 'إضافة منتج جديد',
        productNameLabel: 'اسم المنتج:',
        productDetailsLabel: 'تفاصيل المنتج:',
        price1Label: 'السعر الأول:',
        price2Label: 'السعر الثاني:',
        type1Label: 'النوع الأول:',
        type2Label: 'النوع الثاني:',
        selectType1Placeholder: 'اختر النوع الأول',
        selectType2Placeholder: 'اختر النوع الثاني',
        suitableForLabel: 'مناسب لـ (فئات):',
        selectOccasionPlaceholder: 'اختر المناسبة',
        productImageLabel: 'صورة المنتج:',
        addProductBtn: 'إضافة المنتج',
        selectType1Required: 'الرجاء اختيار النوع الأول للمنتج.',
        selectType2Required: 'الرجاء اختيار النوع الثاني للمنتج.',
        selectOccasionRequired: 'الرجاء اختيار المناسبة للمنتج.',
        productAddedSuccess: 'تم إضافة المنتج "{productName}" بنجاح!', // رسالة نجاح مع placeholder

        // مفاتيح أنواع الورد والاكسسوارات الجديدة التي قد تكون مفيدة
        giftBox: 'بوكس هدايا',
        bears: 'دباديب',
        giftBags: 'شنط هدايا',

        // رسائل JavaScript (تم دمجها وتحديثها)
        noDetails: 'لا توجد تفاصيل.',
        noProductsMessage: 'لا توجد منتجات مميزة لعرضها.',
        failedToFetchProducts: 'فشل في جلب المنتجات: ',
        productQuantityUpdated: 'تم تحديث كمية "{productName}" في السلة!',
        productAddedToCart: 'تمت إضافة "{productName}" إلى السلة بنجاح!',
        productAddedToWishlist: 'تمت إضافة "{productName}" إلى قائمة الأمنيات بنجاح!',
        productAlreadyInWishlist: '"{productName}" موجود بالفعل في قائمة الأمنيات.',
        notEnoughProducts: 'لا توجد منتجات كافية بأسعار صالحة لعرض المنتجات المميزة (يجب توفر 4 منتجات على الأقل).',
        productRemovedFromWishlist: 'تمت إزالة "{productName}" من قائمة الإعجابات بنجاح.',
        errorRemovingProduct: 'حدث خطأ أثناء الإزالة: المنتج غير موجود.',
        confirmClearWishlist: 'هل أنت متأكد أنك تريد مسح جميع المنتجات من قائمة الإعجابات؟',
        allWishlistCleared: 'تم مسح جميع المنتجات من قائمة الإعجابات.',
        // رسائل خاصة بالسلة
        productRemovedFromCart: 'تمت إزالة "{productName}" من السلة.',
        errorRemovingItem: 'حدث خطأ أثناء الإزالة.',
        confirmClearCart: 'هل أنت متأكد أنك تريد تفريغ السلة بالكامل؟',
        cartClearedSuccessfully: 'تم تفريغ السلة بنجاح.',
        cartEmptyMessage: 'سلة مشترياتك فارغة. الرجاء إضافة منتجات قبل إرسال الطلب.',
        fillAllRequiredFields: 'الرجاء ملء جميع الحقول المطلوبة (الاسم، رقم الهاتف، العنوان).',
        welcomeMessage: 'أهلاً بك في قصر زهور الأماني!',
        newOrderMessage: 'لديك طلب جديد:',
        productsSection: '--- المنتجات ---',
        quantity: 'الكمية',
        price: 'السعر',
        egp: 'جنيه', // وحدة العملة
        subtotal: 'الإجمالي الجزئي',
        type: 'النوع',
        occasion: 'المناسبة',
        notSpecified: 'غير محدد',
        orderTotalSection: '--- إجمالي الطلب ---',
        grandTotal: 'الإجمالي الكلي',
        customerInfoSection: '--- معلومات العميل ---',
        name: 'الاسم',
        notes: 'ملاحظات',
        thanksForOrder: 'شكراً لطلبك من قصر زهور الأماني!',
        orderSentAndSaved: 'تم إرسال الطلب وحفظ البيانات (الرجاء التحقق من جوجل شيت).',
        errorSavingOrder: 'حدث خطأ أثناء حفظ الطلب. يرجى المحاولة مرة أخرى.',
        quantityUpdated: 'تم تحديث الكمية.',
        notAvailable: 'غير متاح'
    },
    'en': {
        // General keys and keys from the Homepage
        brandName: 'Al-Amani Flowers Palace',
        clickHere: 'Order Now',
        beautifulFlowersOccasions: 'Beautiful Flowers for Wonderful Occasions',
        wideSelectionFlowers: 'A wide selection of flowers for every occasion.',
        engagementReading: 'Engagement Reading',
        engagement: 'Engagement',
        congratulations: 'Congratulations',
        opening: 'Opening',
        birthday: 'Birthday',
        anniversary: 'Anniversary',
        graduation: 'Graduation',
        newborn: 'Newborn',
        love: 'Love',
        naturalRoses: 'Natural Roses',
        artificialRoses: 'Artificial Roses',
        butterflyRoses: 'Butterfly Roses',
        satinRoses: 'Satin Roses',
        driedFlowers: 'Dried Flowers',
        giftsAlias: 'Gifts', // Updated based on your code usage
        chooseWhatYouLove: 'Choose What You Love',
        chooseYourOccasion: 'Choose by Occasion',
        chooseYourGift: 'Choose Your Gift',
        box: 'Box',
        bear: 'Bear',
        gifts: 'Gifts',
        giftBag: 'Gift Bag',
        glasses: 'Glasses',
        balloons: 'Balloons',
        roseChocBox: 'Rose + Chocolate Box',
        roseBouquet: 'Rose Bouquet',
        roseChocBoxAlt: 'Rose Chocolate Box',
        roseBox: 'Rose Box',
        bestSellersTitle: 'Best Sellers',
        addToCart: 'Add',
        addToWishlist: 'Like',
        home: 'Home',
        wishlist: 'Wishlist',
        cart: 'Cart',
        store: 'Store',
        menu: 'Menu',
        aboutUs: 'About Us',
        shareFeedback: 'Share Your Opinion',
        completeOrder: 'Complete Your Order',
        adminLogin: 'Admin Login', // تم تعديلها لتتناسب مع استخدامها في الكود
        allRightsReserved: '© 2025 Techno Scince. All rights reserved.',
        close: 'Close',

        // Wishlist specific keys
        yourFavoriteProducts: 'Your Favorite Products',
        clearAllProducts: 'Clear All Products',
        noProductsInWishlist: 'No products in wishlist.',
        remove: 'Remove',

        // New keys specific to the Products page (view-products)
        ourProducts: 'Our Products',
        productTypeLabel: 'Product Type:',
        all: 'All',
        flowersOnly: 'Flowers Only',
        accessoriesOnly: 'Accessories Only',
        flowerTypesLabel: 'Flower Types:',
        allTypes: 'All Types',
        occasionsLabel: 'Occasions:',
        allOccasions: 'All Occasions',
        noMatchingProducts: 'No products matching the selected filters.',

        // New keys specific to the Cart page
        yourCart: 'Your Shopping Cart',
        cartEmpty: 'Your cart is empty.',
        cartTotal: 'Cart Total:',
        enterInfoToCompleteOrder: 'Enter Your Details to Complete the Order',
        fullName: 'Full Name:',
        enterYourNameHerePlaceholder: 'Enter your name here',
        phoneNumber: 'Phone Number:',
        address: 'Address:',
        addressPlaceholder: 'Area, Street, House Number',
        additionalNotesOptional: 'Additional Notes (optional):',
        notesPlaceholder: 'Any details to help with delivery',
        sendOrder: 'Send Order',
        emptyCart: 'Empty Cart',

        // New keys specific to the Feedback page
        feedbackFormTitle: 'Share Your Opinion',
        yourName: 'Your Name:',
        yourNumber: 'Your Phone Number:',
        condition: 'Condition:',
        yourEmail: 'Your Email (optional):',
        yourRating: 'Your Rating:',
        yourComments: 'Your Comments (Message):',
        submitFeedback: 'Submit Feedback',
        submittingFeedback: 'Submitting...', // Text for submit button during loading
        feedbackAddedSuccess: 'Your feedback has been submitted successfully!',
        feedbackSubmissionError: 'An error occurred while submitting feedback. Please try again.',
        connectionError: 'A connection error occurred. Please check your internet connection and try again.',

        // New keys specific to the "About Us" page
        aboutUsTitle: 'About The Store',
        aboutUsContent: 'Al-Amani Flowers Palace is your ideal destination for the most beautiful flowers, plants, and gifts. We are committed to providing the highest quality products and best customer service, to make your happy moments brighter. Our mission is to inspire happiness and beauty through our unique products and services.',
        aboutUsMission: 'Our Mission',
        aboutUsMissionContent: 'To provide the finest flowers, plants, and gifts with exceptional customer service.',
        aboutUsVision: 'Our Vision',
        aboutUsVisionContent: 'To be the leading flower store in the region, known for our creativity and quality.',

        // New keys specific to the "View Feedback" page
        viewFeedbackTitle: 'Customer Reviews',
        noFeedback: 'No reviews to display yet.',
        anonymous: 'Anonymous',
        noComment: 'No comment.',
        dateNotAvailable: 'Date not available',
        feedbackBy: 'By:',
        errorLoadingFeedback: 'Error loading reviews.',

        // New keys specific to the Reports page (admin-reports)
        reportsTitle: 'Reports and Statistics',
        loadingReports: 'Loading reports...',
        reportsError: 'An error occurred while loading reports. Please check your internet connection and spreadsheet settings.',
        totalOrders: 'Total Orders',
        totalSales: 'Total Sales',
        totalFeedback: 'Total Feedback',
        averageRating: 'Average Rating',
        mostSoldProducts: 'Most Sold Products',
        ratingDistribution: 'Rating Distribution (Stars)',
        salesCount: 'Sales Count', // for chart label
        mostSoldProductsTitle: 'Most Sold Products (Order Count)', // for chart title
        ordersCount: 'Order Count', // for Y-axis label
        product: 'Product', // for X-axis label
        oneStar: '1 Star',
        twoStars: '2 Stars',
        threeStars: '3 Stars',
        fourStars: '4 Stars',
        fiveStars: '5 Stars',
        feedbackCount: 'Feedback Count', // for chart label
        customerRatingDistribution: 'Customer Rating Distribution', // for chart title

        // New keys specific to the Admin Orders page
        latestOrdersBtn: 'Latest Orders',
        ordersTitle: 'Incoming Orders',
        noOrders: 'No orders currently.',
        refreshPage: 'Refresh Page',
        customerName: 'Customer Name',
        orderValue: 'Order Value',
        noNotes: 'No notes',
        orderReceived: 'Order Received',
        orderPreparing: 'Preparing',
        orderDelivered: 'Delivered',
        errorLoadingOrders: 'Error loading orders.',

        // New keys specific to the Edit/Delete Product page (admin-edit-delete-product)
        editDeleteProductTitle: 'Edit / Delete Product',
        selectProductLabel: 'Select Product:',
        selectProductPlaceholder: '-- Select a product --',
        productDetailsLabel: 'Product Details:',
        saveChangesBtn: 'Save Changes',
        deleteProductBtn: 'Delete Product',
        noProductsAvailable: 'No products available.',
        httpError: 'HTTP error! Status: ',
        imageEncodingError: 'Error encoding image file.',
        imageReadingError: 'Error reading image file. Please try again.',
        noProductToDelete: 'Please select a product to delete first.',
        confirmDeleteProduct: 'Are you sure you want to delete the product: "{productName}"?',
        failed: 'Failed: ',
        unknownServerError: 'Unknown server error.',
        connectionErrorServer: 'Error connecting to server: ',
        response: 'Response: ',

        // New keys specific to the Admin Login page (admin-login)
        adminLoginTitle: 'Admin Login',
        usernameLabel: 'Username:',
        passwordLabel: 'Password:',
        loginBtn: 'Login',
        alreadyLoggedInRedirect: 'Already logged in. Redirecting...',
        connectionErrorRetry: 'Error connecting to server. Please try again.',
        verifying: 'Verifying...',
        loginSuccessRedirect: 'Login successful! Redirecting...',
        incorrectPassword: 'Incorrect password.',
        usernameNotFound: 'Username not found.',

        // New keys specific to the Admin Dashboard page (admin-dashboard)
        adminPanelTitle: 'Admin Panel',
        manageOrders: 'Manage Orders',
        addProduct: 'Add Product',
        editProduct: 'Edit Product',
        viewAllFeedback: 'View All Feedback',
        viewReports: 'View Reports',
        logout: 'Logout',
        logoutSuccess: 'Logged out successfully!',

        // New keys specific to the Add Product page (admin-add-product)
        addNewProductTitle: 'Add New Product',
        productNameLabel: 'Product Name:',
        productDetailsLabel: 'Product Details:',
        price1Label: 'Price One:',
        price2Label: 'Price Two:',
        type1Label: 'Type One:',
        type2Label: 'Type Two:',
        selectType1Placeholder: 'Select Type One',
        selectType2Placeholder: 'Select Type Two',
        suitableForLabel: 'Suitable For (Categories):',
        selectOccasionPlaceholder: 'Select Occasion',
        productImageLabel: 'Product Image:',
        addProductBtn: 'Add Product',
        selectType1Required: 'Please select the first product type.',
        selectType2Required: 'Please select the second product type.',
        selectOccasionRequired: 'Please select the occasion for the product.',
        productAddedSuccess: 'Product "{productName}" added successfully!',

        // New flower/accessory type keys that might be useful
        giftBox: 'Gift Box',
        bears: 'Bears',
        giftBags: 'Gift Bags',

        // JavaScript messages (merged and updated)
        noDetails: 'No details available.',
        noProductsMessage: 'No special products to display.',
        failedToFetchProducts: 'Failed to fetch products: ',
        productQuantityUpdated: 'Quantity of "{productName}" updated in cart!',
        productAddedToCart: '"{productName}" added to cart successfully!',
        productAddedToWishlist: '"{productName}" added to wishlist successfully!',
        productAlreadyInWishlist: '"{productName}" is already in your wishlist.',
        notEnoughProducts: 'Not enough valid products to display special products (at least 4 products are required).',
        productRemovedFromWishlist: '"{productName}" removed from wishlist successfully.',
        errorRemovingProduct: 'An error occurred during removal: Product not found.',
        confirmClearWishlist: 'Are you sure you want to clear all products from the wishlist?',
        allWishlistCleared: 'All products cleared from wishlist.',
        // Cart specific messages
        productRemovedFromCart: '"{productName}" removed from cart.',
        errorRemovingItem: 'An error occurred during removal.',
        confirmClearCart: 'Are you sure you want to empty your cart completely?',
        cartClearedSuccessfully: 'Cart emptied successfully.',
        cartEmptyMessage: 'Your shopping cart is empty. Please add products before sending the order.',
        fillAllRequiredFields: 'Please fill in all required fields (Name, Phone Number, Address).',
        welcomeMessage: 'Welcome to Al-Amani Flowers Palace!',
        newOrderMessage: 'You have a new order:',
        productsSection: '--- Products ---',
        quantity: 'Quantity',
        price: 'Price',
        egp: 'EGP',
        subtotal: 'Subtotal',
        type: 'Type',
        occasion: 'Occasion',
        notSpecified: 'Not Specified',
        orderTotalSection: '--- Order Total ---',
        grandTotal: 'Grand Total',
        customerInfoSection: '--- Customer Information ---',
        name: 'Name',
        notes: 'Notes',
        thanksForOrder: 'Thank you for your order from Al-Amani Flowers Palace!',
        orderSentAndSaved: 'Order sent and data saved (please check Google Sheet).',
        errorSavingOrder: 'An error occurred while saving the order. Please try again.',
        quantityUpdated: 'Quantity updated.',
        notAvailable: 'N/A'
    }
};

// **الكود الجديد أو المعدّل لتبديل اللغة وتطبيق الاتجاه:**

document.addEventListener('DOMContentLoaded', () => {
    // حاول الحصول على عنصر languageSwitcher، قد لا يكون موجودًا في كل الصفحات
    const languageSwitcher = document.getElementById('language-switcher');
    // استخدم اللغة المحفوظة، أو العربية كافتراضي
    let currentLang = localStorage.getItem('lang') || 'ar'; 

    // دالة مساعدة للحصول على نص مترجم، مع دعم المتغيرات
    function getTranslatedText(key, replacements = {}) {
        let text = translations[currentLang][key] || key; // ارجع المفتاح لو لم توجد ترجمة
        for (const placeholder in replacements) {
            if (replacements.hasOwnProperty(placeholder)) {
                text = text.replace(`{${placeholder}}`, replacements[placeholder]);
            }
        }
        return text;
    }

    // دالة لتطبيق الترجمة على عناصر HTML وتحديد الاتجاه
    function applyTranslation(lang) {
        document.querySelectorAll('[data-translate-key]').forEach(element => {
            const key = element.dataset.translateKey;
            if (translations[lang] && translations[lang][key]) {
                element.textContent = translations[lang][key];
            }
        });

        // تحديث زر تبديل اللغة إذا كان موجودًا
        if (languageSwitcher) {
            if (lang === 'ar') {
                languageSwitcher.textContent = 'EN / عربي';
            } else {
                languageSwitcher.textContent = 'عربي / EN';
            }
        }

        // **تحديث اتجاه الصفحة (RTL/LTR) - هذا هو الجزء الأساسي لجميع الصفحات**
        document.documentElement.setAttribute('lang', lang);
        document.body.style.direction = (lang === 'ar' ? 'rtl' : 'ltr');
    }

    // تبديل اللغة عند النقر على الزر (إذا كان موجودًا)
    if (languageSwitcher) {
        languageSwitcher.addEventListener('click', () => {
            currentLang = (currentLang === 'ar' ? 'en' : 'ar');
            localStorage.setItem('lang', currentLang);
            // إعادة تحميل الصفحة لتطبيق التغييرات بالكامل على جميع النصوص
            location.reload(); 
        });
    }

    // **تطبيق اللغة عند تحميل الصفحة لأول مرة**
    applyTranslation(currentLang);

    // --- تعديلات على دوال العرض والرسائل لجعلها قابلة للترجمة ---
    // هذه الدوال يجب أن تكون موجودة في نطاق عام أو في ملف script.js 
    // حتى تتمكن الملفات الأخرى من الوصول إليها.
    // إذا كنت تستخدمها فقط في الصفحة الرئيسية، فلا داعي لوضعها هنا.
    // ولكن بما أنك تريد أن تكون الترجمة جيدة جداً، فسنقوم بتضمينها هنا 
    // كدوال عامة (global) لضمان استخدامها الصحيح مع مفاتيح الترجمة.

    // دالة لإظهار رسالة عامة (مثل رسائل التحميل أو الخطأ)
    // تأكد أن لديك عنصر HTML بالـ ID 'message' في صفحاتك
    window.showMessage = (key, type, replacements = {}) => {
        const messageDiv = document.getElementById('message'); // يجب أن يكون هذا العنصر موجودًا
        if (messageDiv) {
            const message = getTranslatedText(key, replacements);
            messageDiv.textContent = message;
            messageDiv.className = `message ${type}`;
        }
    };

    // دالة لإظهار رسالة Toast (تظهر وتختفي تلقائياً)
    // تأكد أن لديك عنصر HTML بالـ ID 'toastMessage' في صفحاتك
    window.showToast = (key, type = 'success', replacements = {}) => {
        const toastMessage = document.getElementById('toastMessage'); // يجب أن يكون هذا العنصر موجودًا
        if (toastMessage) {
            const message = getTranslatedText(key, replacements);
            toastMessage.textContent = message;
            toastMessage.className = `toast-message show ${type}`;
            setTimeout(() => {
                toastMessage.className = toastMessage.className.replace("show", "");
            }, 3000); // إخفاء بعد 3 ثوانٍ
        }
    };

    // يمكنك إضافة دوال مساعدة أخرى هنا إذا كنت تستخدمها في صفحات مختلفة
    // وتعتمد على الترجمة، مثل:
    // window.redirectToProducts = (categoryValue) => { ... }
    // window.redirectToStoreWithFilter = (occasionValue) => { ... }
    // تأكد من عدم تكرار تعريف هذه الدوال إذا كانت معرفة بالفعل في script.js
});