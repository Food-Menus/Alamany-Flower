<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="./../../server/static/pngwing.com.png" type="image/x-icon">
    <title data-translate-key="adminPanelTitle">زهور الربيع - لوحة تحكم المدير</title>
    <link rel="stylesheet" href="./../../server/static/css/style.css">
    <link rel="stylesheet" href="./../../server/static/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>

<!-- ##################################################################################################### -->
    <header class="navbar"><div class="brand-name" data-translate-key="brandName">زهور الربيع</div><br></header>
<!-- ##################################################################################################### -->


    <main class="content">
        <section class="data-display-section">
            <h2 data-translate-key="adminPanelTitle">لوحة تحكم المدير</h2>
            <div class="admin-controls-grid">
                <a href="./orders.html" class="admin-control-button">
                    <i class="fas fa-clipboard-list"></i>
                    <span data-translate-key="manageOrders">إدارة الطلبات</span>
                </a>
                <a href="./add-product.html" class="admin-control-button">
                    <i class="fas fa-boxes"></i>
                    <span data-translate-key="addProduct">إضافة منتج</span>
                </a>
                <a href="./edit-product.html" class="admin-control-button">
                    <i class="fas fa-edit"></i>
                    <span data-translate-key="editProduct">تعديل منتج</span>
                </a>
                <a href="./view-feedback.html" class="admin-control-button">
                    <i class="fas fa-star-half-alt"></i>
                    <span data-translate-key="viewAllFeedback">عرض كل التقييمات</span>
                </a>
                <a href="./reports.html" class="admin-control-button">
                    <i class="fas fa-chart-line"></i>
                    <span data-translate-key="viewReports">عرض التقارير</span>
                </a>
                <button class="admin-control-button" id="logoutBtn">
                    <i class="fas fa-sign-out-alt"></i>
                    <span data-translate-key="logout">تسجيل الخروج</span>
                </button>
            </div>
        </section>
    </main>

<!-- ##################################################################################################### -->
    <footer class="site-footer">
        <div class="social-links">
            <a href="https://www.facebook.com/Techno.Science.TC"><i class="fab fa-facebook-f"></i></a>
            <a href="https://www.facebook.com/Techno.Science.TC"><i class="fab fa-instagram"></i></a>
            <a href="https://www.facebook.com/Techno.Science.TC"><i class="fab fa-tiktok"></i></a>
            <a href="https://wa.me/0114182463"><i class="fab fa-whatsapp"></i></a>
        </div>
        <p data-translate-key="allRightsReserved">© 2025 Techno Scince. All rights reserved.</p>
    </footer>
    <nav class="bottom-nav">
        <a href="./../../index.html" class="nav-item">
            <i class="fas fa-home"></i>
            <span data-translate-key="home">الرئيسية</span>
        </a>
        <a href="./../user/wishlist.html" class="nav-item">
            <i class="fas fa-heart"></i>
            <span data-translate-key="wishlist">الإعجابات</span>
        </a>
        <a href="./../user/cart.html" class="nav-item">
            <i class="fas fa-shopping-basket"></i>
            <span data-translate-key="cart">السلة</span>
        </a>
        <a href="./../user/view-products.html" class="nav-item">
            <i class="fas fa-store"></i>
            <span data-translate-key="store">المتجر</span>
        </a>
        <button class="nav-item hamburger-menu-btn">
            <i class="fas fa-bars"></i>
            <span data-translate-key="menu">القائمة</span>
        </button>
    </nav>
    <div class="side-menu">
        <h1 data-translate-key="brandName">زهور الربيع</h1>
        <br><br><br><br><br>
        <ul>
            <li><a href="./../user/about.html" data-translate-key="aboutUs">من نحن</a></li>
            <li><a href="./../user/add-feedback.html" data-translate-key="shareFeedback">شاركنا برأيك</a></li>
            <li><a href="./../user/view-products.html" data-translate-key="completeOrder">أكمل طلبك</a></li>
            <li><a href="./admin-dashboard.html" data-translate-key="adminDashboard">لوحة تحكم المدير</a></li>
            <li><button id="language-switcher" class="lang-switcher">EN / عربي</button></li>
        </ul>
        <br><br><br><br><br>
        <button class="close-side-menu" data-translate-key="close">close</button>
    </div>
<!-- ##################################################################################################### -->

    <script src="./../../server/script.js"></script>
    <script src="./../../server/translate.js"></script> <script>
        // دالة مساعدة للحصول على نص مترجم
        function getTranslatedText(key, replacements = {}) {
            const lang = localStorage.getItem('lang') || 'ar'; // أو أي لغة افتراضية
            let text = (translations[lang] && translations[lang][key]) ? translations[lang][key] : key;
            for (const placeholder in replacements) {
                if (replacements.hasOwnProperty(placeholder)) {
                    text = text.replace(`{${placeholder}}`, replacements[placeholder]);
                }
            }
            return text;
        }

        document.addEventListener('DOMContentLoaded', () => {
            const logoutBtn = document.getElementById('logoutBtn');

            if (logoutBtn) { // تأكد أن الزر موجود قبل محاولة إضافة مستمع الحدث له
                logoutBtn.addEventListener('click', () => {
                    // حذف التوكين من Local Storage
                    localStorage.removeItem('Token');

                    // إظهار رسالة للمستخدم
                    alert(getTranslatedText('logoutSuccess'));

                    // إعادة توجيه المستخدم إلى صفحة تسجيل الدخول أو الصفحة الرئيسية
                    window.location.href = './admin-login.html'; // أو './index.html'
                });
            }

            // التحقق من التوكن عند تحميل الصفحة
            const Token = localStorage.getItem('Token');
            if (!Token) {
                window.location.href = './admin-login.html'; // إعادة التوجيه إلى صفحة تسجيل الدخول إذا لم يكن هناك توكن
            }
            // لا يوجد عنصر بالـ ID "Token" في هذه الصفحة لعرضه، لذا تم حذف السطر
            // document.getElementById('Token').textContent = Token;
        });
    </script>
</body>
</html>